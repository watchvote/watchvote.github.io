"use strict";(self["webpackChunkwatch_vote"]=self["webpackChunkwatch_vote"]||[]).push([[315],{9614:(e,t,a)=>{a.d(t,{S:()=>r});var n=a(1938);class r{static getAllObserverTypes(){return[n.m.observer,n.m.adviser].map((e=>({label:this.getObserverTypeName(e),value:e})))}static getAllCountTypes(){return[n.S.manual,n.S.koib].map((e=>({label:this.getCountTypeName(e),value:e})))}static getObserverTypeName(e){switch(e){case n.m.observer:return"Наблюдатель";case n.m.adviser:return"Член комиссии с правом совещательного голоса";default:return"Неизв. тип"}}static getCountTypeName(e){switch(e){case n.S.manual:return"Ручной";case n.S.koib:return"КОИБ";default:return"Неизв. тип"}}}},3315:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var n=a(3673),r=a(2323);const s={class:"q-pa-xs q-my-xs text-grey-8"},i={class:"text-subtitle1 text-primary"},l={class:"text-caption "},o=(0,n.Uk)("Удалить"),u=(0,n.Uk)(" Вы можете начать одно или несколько наблюдений с разными параметрами - участок, роль, вид подсчета голосов "),c={key:1,class:"q-mt-lg float-right"};function m(e,t,a,m,p,d){const v=(0,n.up)("q-item-section"),b=(0,n.up)("q-item"),g=(0,n.up)("q-list"),w=(0,n.up)("q-menu"),y=(0,n.up)("q-btn"),f=(0,n.up)("q-item-label"),h=(0,n.up)("q-banner"),k=(0,n.up)("q-page"),_=(0,n.Q2)("close-popup"),T=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.j4)(k,{padding:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(this.items,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"q-mb-md",key:t.id},[(0,n.Wm)(g,{bordered:"",class:"bg-white",separator:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{class:"bg-blue-grey-1"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n._)("div",i,(0,r.zw)(t.name),1),(0,n._)("div",l,(0,r.zw)(e.getObserverTypeName(t.observerType))+" / "+(0,r.zw)(e.getCountTypeName(t.countType)),1)])])),_:2},1024),(0,n.Wm)(v,{side:""},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g,{style:{"min-width":"120px"}},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(b,{clickable:"",onClick:a=>e.removeObservation(t)},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[o])),_:1})])),_:2},1032,["onClick"]),[[_]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.days,(a=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(b,{key:a.id,clickable:"",onClick:n=>e.openDay(t,a)},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(a.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[T]]))),128))])),_:2},1024)])))),128)),0==this.items.length?((0,n.wg)(),(0,n.j4)(h,{key:0,class:"bg-blue-grey-1 q-mt-lg"},{action:(0,n.w5)((()=>[(0,n.Wm)(y,{flat:"",color:"primary",label:"Новое наблюдение",onClick:t[0]||(t[0]=t=>e.createNew())})])),default:(0,n.w5)((()=>[u])),_:1})):((0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(y,{flat:"",color:"primary",label:"Новое наблюдение",onClick:t[1]||(t[1]=t=>e.createNew())})]))])),_:1})}var p=a(7600),d=a(9614),v=a(1959),b=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function i(e){try{o(n.next(e))}catch(t){s(t)}}function l(e){try{o(n["throw"](e))}catch(t){s(t)}}function o(e){e.done?a(e.value):r(e.value).then(i,l)}o((n=n.apply(e,t||[])).next())}))};const g=(0,n.aZ)({name:"PageIndex",setup(){const e=(0,v.iH)(p.X.getAllObservations());return{items:e}},methods:{openDay(e,t){return b(this,void 0,void 0,(function*(){this.$store.commit("observation/open",t),this.$store.commit("app/openObservation",this.$store.state.observation.currentObservation),yield this.$router.push("/observation")}))},createNew(){return b(this,void 0,void 0,(function*(){yield this.$router.push("/create")}))},removeObservation(e){this.$q.dialog({title:"Удаление наблюдения",message:"<strong>"+e.name+"</strong><br/> "+d.S.getObserverTypeName(e.observerType)+" / "+d.S.getCountTypeName(e.countType),ok:{label:"Удалить",color:"negative"},html:!0,cancel:"Отмена",persistent:!0}).onOk((()=>{p.X.removeObservation(e),this.items=p.X.getAllObservations()}))},getObserverTypeName(e){return d.S.getObserverTypeName(e)},getCountTypeName(e){return d.S.getCountTypeName(e)}}});var w=a(4379),y=a(7011),f=a(3414),h=a(2035),k=a(8240),_=a(6335),T=a(2350),C=a(5607),N=a(677),O=a(6489),q=a(7518),W=a.n(q);g.render=m;const x=g;W()(g,"components",{QPage:w.Z,QList:y.Z,QItem:f.Z,QItemSection:h.Z,QBtn:k.Z,QMenu:_.Z,QItemLabel:T.Z,QBanner:C.Z}),W()(g,"directives",{ClosePopup:N.Z,Ripple:O.Z})}}]);